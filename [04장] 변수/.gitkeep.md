# [모던 자바스크립트 Deep Dive] 4장: 변수(Variables)

## **4.1 변수란 무엇인가? 왜 필요한가?**

### **컴퓨터의 기본 동작 원리**
- **CPU(중앙처리장치)**: 연산을 수행하는 장치
- **메모리(RAM)**: 데이터를 저장하고 읽어들이는 공간
- **메모리 셀**: 데이터를 저장하는 최소 단위 (1바이트)
- **메모리 주소**: 각 메모리 셀의 고유한 위치값

💡 **예제: 10 + 20 연산 과정**
1. 숫자 10과 20이 메모리의 특정 주소에 저장됨.
2. CPU가 해당 주소에서 데이터를 가져와 연산 수행.
3. 결과 값 30도 메모리의 다른 주소에 저장됨.

하지만, **메모리 주소를 직접 다루는 것은 위험**
- 운영체제가 사용하는 메모리를 실수로 변경하면 시스템 오류가 발생할 수 있음.
- 자바스크립트는 **개발자의 직접적인 메모리 제어를 허용하지 않음**.
- 코드 실행 시마다 메모리 주소가 동적으로 할당되므로, 개발자가 직접 접근하는 것은 불가능함

### **변수의 개념**

- **변수(Variable)**: 특정 값을 저장하기 위해 확보한 **메모리 공간** 혹은 **그 공간을 식별하기 위한 이름**.
- 변수는 **값의 위치를 가리키는 상징적인 이름**이며, 컴파일러/인터프리터가 해당 변수를 **메모리 주소로 치환**하여 실행함.
- 개발자는 **직접 메모리 주소를 다룰 필요 없이, 변수를 통해 안전하게 값을 참조**할 수 있음.
- 연산 결과를 저장하고, 재사용할 수 있도록 함.

💡 **변수의 핵심 역할**
1. **가독성 증가**: 메모리 주소가 아닌 사람이 이해하기 쉬운 이름 사용.
2. **재사용성 향상**: 연산 결과나 데이터의 중복 저장 방지.
3. **유지보수 용이**: 코드 수정 시 모든 관련 주소를 변경할 필요 없이 변수명만 변경.

### **변수 이름(Identifier)**

- 변수 이름은 **메모리 공간에 저장된 값을 식별**할 수 있는 **고유한 이름**.
- 명확한 변수명은 **코드 가독성을 높이고 협업의 품질을 향상**시킴.
- 따라서, **변수 이름을 심사숙고해서 결정하는 것이 중요**함.

## **4.2 식별자(Identifier)**

- **식별자(Identifier)**: 특정 값을 **식별하고 구분하기 위한 이름**.
- 변수, 함수, 클래스 등의 이름이 모두 식별자에 해당.
- 식별자는 **값 자체가 아니라, 값이 저장된 메모리 주소를 기억하는 역할**을 함.
- 선언을 통해 식별자의 존재를 **실행 컨텍스트**에 등록함.
- 자바스크립트에서는 **식별자 네이밍 규칙**을 준수해야 함.

## **4.3 변수 선언(Variable Declaration)**

### **변수 선언이란?**

변수 선언이란 **변수를 생성하는 것**으로, 아래 두 가지를 수행함:
1. **메모리 공간 확보**
2. **변수 이름과 해당 공간의 주소를 연결하여, 값을 저장할 준비를 함**

### **변수 선언 방식**
```javascript
var score; // 변수 선언
```
- 위 코드는 `score`라는 변수를 선언하고, 값을 저장할 메모리 공간을 확보함.
- 이때, 자바스크립트 엔진은 **초기화(Initialization) 과정에서 `undefined` 값을 자동 할당**.

### **변수 선언 과정**

1. **선언 단계(Declaration Phase)**: 변수 이름을 등록.
2. **초기화 단계(Initialization Phase)**: 메모리 공간을 확보하고, `undefined`로 초기화.

💡 **변수 이름은 어디에 저장될까?**
- 모든 식별자는 **실행 컨텍스트(Execution Context)**에 등록됨.
- 실행 컨텍스트 내부에서 **변수 이름과 값은 키-값 형태의 객체로 관리**됨.

⚠️ **선언하지 않은 변수에 접근하면 ReferenceError 발생**
```javascript
console.log(value); // ReferenceError: value is not defined
```

## **4.4 변수 선언의 실행 시점과 변수 호이스팅**

### **변수 호이스팅(Variable Hoisting)**
자바스크립트 엔진은 **코드를 실행하기 전에** 소스코드를 평가하는 과정에서, 모든 **변수 선언을 코드의 최상단으로 끌어올림**.

```javascript
console.log(score); // undefined (ReferenceError가 아님!)
var score;
```
- `console.log(score);` 실행 전에 `var score;` 선언이 먼저 평가됨.
- 하지만 **값 할당은 런타임에 이루어지므로 `undefined`가 출력됨**.

## **4.5 값의 할당(Value Assignment)**
- 변수에 값을 저장할 때 **할당 연산자 `=`** 를 사용함.
```javascript
var score = 80; // 변수 선언 + 값 할당
```
- 변수 선언은 런타임 이전에 실행되지만, **값의 할당은 런타임에서 실행됨**.

## **4.6 값의 재할당(Reassignment)**
- 변수에 새로운 값을 할당하면 기존 값이 사라지고, 새로운 값이 저장됨.
```javascript
var score = 80;
score = 90; // 값 재할당
```
- 하지만 기존 값이 저장된 메모리 공간을 직접 수정하는 것이 아니라, **새로운 메모리 공간을 확보하여 값을 저장**.
- 이전 값은 **어떤 식별자와도 연결되지 않으면 가비지 콜렉터(Garbage Collector)에 의해 자동 해제됨**.

💡 **매니지드 언어 vs 언매니지드 언어**
- **매니지드 언어 (JavaScript, Python)**: 메모리 할당 및 해제가 자동으로 관리됨.
- **언매니지드 언어 (C, C++)**: 개발자가 직접 `malloc()`과 `free()`를 통해 메모리 관리.

## **4.7 식별자 네이밍 규칙**

- 식별자는 **문자, 숫자, `_`, `$` 기호 포함 가능**.
- **숫자로 시작 불가능**.
- **예약어(예: `var`, `function`, `if` 등) 사용 불가능**.
- **대소문자 구별** (`firstName`과 `firstname`은 다름).
- 한글, 일본어도 가능하지만 권장하지 않음.

### **네이밍 컨벤션(Naming Convention)**

| 스타일 | 예시 | 사용처 |
|--------|------|--------|
| 카멜 케이스 (camelCase) | `firstName` | 변수, 함수 |
| 스네이크 케이스 (snake_case) | `first_name` | 상수 |
| 파스칼 케이스 (PascalCase) | `FirstName` | 클래스, 생성자 |
| 헝가리안 케이스 (HungarianCase) | `strFirstName`, `$elem`, `observable$` | 타입 명시 |

✅ 일반적으로 **자바스크립트에서는 카멜 케이스를 권장**함.

