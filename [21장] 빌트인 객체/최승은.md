# 21장 자바스크립트 객체

## 21.1 자바스크립트 객체의 분류

자바스크립트에서 객체는 크게 **표준 빌트인 객체**, **호스트 객체**, **사용자 정의 객체**로 분류된다.

### 표준 빌트인 객체 (Standard Built-in Objects)

* ECMAScript 사양에 정의된 객체들로, 애플리케이션 전역에서 공통 기능을 제공한다.
* 브라우저 또는 Node.js 등 실행 환경에 상관없이 언제나 사용 가능하다.
* 별도의 선언 없이 **전역 객체의 프로퍼티**로 제공되므로 전역 변수처럼 참조할 수 있다.

  * 예: `Object`, `Array`, `String`, `Math`, `Promise`, `Error` 등

### 호스트 객체 (Host Objects)

* ECMAScript 사양에는 포함되지 않지만 자바스크립트 **실행 환경(브라우저, Node.js 등)** 에서 제공하는 객체이다.

  * 브라우저 예: `window`, `document`, `XMLHttpRequest`
  * Node.js 예: `fs`, `http`, `process`

### 사용자 정의 객체 (User-defined Objects)

* 개발자가 직접 정의한 객체로, 생성자 함수, 클래스 또는 리터럴 문법으로 생성된다.

  * 예: `const person = { name: '승은', age: 24 };`

---

## 21.2 표준 빌트인 객체

* 대부분은 **생성자 함수 객체**이며, 이를 통해 인스턴스를 생성할 수 있다.
* 예외적으로 `Math`, `JSON`, `Reflect` 등은 생성자 함수가 아니며 인스턴스를 생성할 수 없다.
* 생성자 함수 객체는 **프로토타입 메서드**와 **정적 메서드**를 제공한다.

```js
// Number 객체 생성
const numObj = new Number(1.5); // Number {1.5}

// toFixed는 Number.prototype에 정의된 프로토타입 메서드
console.log(numObj.toFixed()); // 2

// isInteger는 Number 객체의 정적 메서드
console.log(Number.isInteger(0.5)); // false
```

* 생성된 인스턴스의 내부 \[\[Prototype]]은 해당 생성자 함수의 `prototype` 프로퍼티가 참조하는 객체와 연결된다.

---

## 21.3 원시값과 래퍼 객체

자바스크립트는 문자열, 숫자, 불리언과 같은 원시값에 대해 객체처럼 접근할 수 있도록 **래퍼 객체(wrapper object)** 를 자동으로 생성하여 사용한다.

```js
const str = 'hi';

console.log(str.length);        // 2
console.log(str.toUpperCase()); // 'HI'
console.log(typeof str);       // 'string'
```

* `str`은 원시값이지만, 마치 객체처럼 메서드(`toUpperCase`)나 프로퍼티(`length`)에 접근할 수 있다.
* 자바스크립트 엔진이 **String 래퍼 객체를 임시로 생성**한 뒤, 사용 후 제거한다.

> **주의**: 명시적으로 `new String()`, `new Number()`와 같이 래퍼 객체를 직접 생성하는 것은 권장되지 않는다. 예상치 못한 타입 비교와 버그를 유발할 수 있기 때문이다.

* ES6에서 도입된 `Symbol`도 래퍼 객체가 존재하며, `Object(Symbol('hi'))`와 같은 방식으로 확인할 수 있다.

---

## 21.4 전역 객체

전역 객체(global object)는 코드 실행 이전에 **가장 먼저 생성되는 특수한 객체**이며, 모든 객체의 최상위에 위치한다.

### 전역 객체의 특징

* **최상위 객체**이며, 어떤 객체에도 속하지 않는다.
* 브라우저 환경에서는 `window`, `self`, `frames`, `this` 등이 전역 객체를 가리킨다.
* Node.js에서는 `global`이 전역 객체이다.
* ES11(2020)부터는 브라우저와 Node.js를 포괄하는 **공통 전역 객체인 `globalThis`** 가 도입되었다.

  * 환경과 무관하게 전역 객체에 접근할 수 있다.

### 전역 객체의 내부 속성

* 생성자 함수가 없기 때문에 개발자가 전역 객체를 직접 생성할 수는 없다.
* 전역 객체는 **표준 빌트인 객체**, **전역 함수**, **전역 변수**, **실행 환경에 따라 제공되는 호스트 객체**들을 프로퍼티로 가진다.
* `var` 키워드로 선언한 전역 변수, 선언 없이 할당된 **암묵적 전역**, 그리고 전역 함수는 모두 전역 객체의 프로퍼티가 된다.

---

### 21.4.1 빌트인 전역 프로퍼티

전역 객체는 몇 가지 **자주 사용하는 값들을 전역 프로퍼티로 미리 정의**하고 있다.

#### `Infinity`

* 무한대를 나타내는 숫자 값
* 예: `1 / 0 → Infinity`

#### `NaN`

* 숫자가 아닌 값(Not-a-Number)
* 예: `'a' * 1 → NaN`
* `Number.NaN`과 동일한 값이다.

#### `undefined`

* **초기화되지 않은 변수**, 반환값이 없는 함수 등에서 사용되는 값
* 원시 타입 `undefined` 값을 나타냄

